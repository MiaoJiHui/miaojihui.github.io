<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> git & github · MiaoJiHui</title><meta name="description" content="git &amp; github - Joseph Miao"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/xly.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/xly.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/miaojihui" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="https://twitter.com/miaojihui93" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">git & github</h1><div class="post-info">Sep 3, 2016</div><div class="post-content"><h1 id="今天来记录一下自己学习git-amp-github的心得和体会"><a href="#今天来记录一下自己学习git-amp-github的心得和体会" class="headerlink" title="今天来记录一下自己学习git &amp; github的心得和体会"></a>今天来记录一下自己学习git &amp; github的心得和体会</h1><blockquote>
<h4 id="先贴上廖雪峰前辈的git教程，堪称行业经典，我就是看了他的教程之后也想自己写点总结出来。"><a href="#先贴上廖雪峰前辈的git教程，堪称行业经典，我就是看了他的教程之后也想自己写点总结出来。" class="headerlink" title="先贴上廖雪峰前辈的git教程，堪称行业经典，我就是看了他的教程之后也想自己写点总结出来。"></a>先贴上廖雪峰前辈的<a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="external">git教程</a>，堪称行业经典，我就是看了他的教程之后也想自己写点总结出来。</h4></blockquote>
<p>git原来是linux之父linus花了两周时间开发出来的，怪不得那么强大。虽然此时的我也还没有完全领略到git的风采，但是通过这几个月对github的深入了解之后，还是能领回到不少git的魅力！可以这么说，github打开我对前端世界认识的大门，而git则为我指引了一条快速通往这个世界的道路。</p>
<p>先声明下，所有git用法均是在mac环境下的terminal终端进行。好了，下面开始正式介绍：</p>
<h5 id="1-纯小白式"><a href="#1-纯小白式" class="headerlink" title="1.纯小白式"></a>1.纯小白式</h5><p>比如我们现在想把github中bootstrap项目下载到本地,先访问<a href="https://github.com/twbs/bootstrap" target="_blank" rel="external">https://github.com/twbs/bootstrap</a>，然后再clone，如下图：<br><img src="/imgs/git1.png" alt=""><br>切换到你想存放的目录，在终端上执行：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/twbs/bootstrap.git</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>tips: 如果要git clone SSH URLs, 则需要配置SSH key passphrase.<a href="https://help.github.com/articles/which-remote-url-should-i-use/" target="_blank" rel="external">详细请看</a></p>
</blockquote>
<p>然后就可以在该目录看到bootstrap项目了。不过这种方式是无法对原项目push任何修改。</p>
<h5 id="2-小白式"><a href="#2-小白式" class="headerlink" title="2.小白式"></a>2.小白式</h5><p>比如现在需要新建一个apph5的前端项目，我们先去github，点击右上角的+然后New repository新建一个名叫apph5的库。<br>建立好了之后，会生成一个https链接: <a href="https://github.com/miaojihui/apph5.git" target="_blank" rel="external">https://github.com/miaojihui/apph5.git</a> 和一个ssh链接: git@github.com:MiaoJiHui/apph5.git。<br>现在clone到本地，或者新建一个apph5的本地文件夹，关键要把本地apph5文件夹和github远程库关联起来。<br>但在关联之前，我们必须先给github提供本机的ssh key，只有这样github才允许本地与github进行交互。<br>生成ssh key：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"youremail@example.com"</span></span><br></pre></td></tr></table></figure></p>
<p>然后连敲三次enter键，ssh key就生成好啦，到~/.ssh/id_rsa.pub中查看key就行了，可以用vim打开。<br>接着到<a href="https://github.com/settings/keys" target="_blank" rel="external">https://github.com/settings/keys</a>,点击New SSH KEY，把key填进去就行了。此时可以在终端打 <code>ssh -T git@github.com</code>，如果显示如下提示就说明大功告成：</p>
<blockquote>
<p>Hi MiaoJiHui! You’ve successfully authenticated, but GitHub does not provide shell access.</p>
</blockquote>
<p>接着此时，如果本地项目写好了，则需要进行一系列git命令操作：<br>如果项目是新建的文件夹，则要进行git初始化<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br></pre></td></tr></table></figure></p>
<p>就会在apph5目录生成一个.git的文件，通过该文件才可以进行git操作。<br>接着依次执行下面操作：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git add .          //把本地修改的所有文件添加到git暂存区，如果单个添加就写上包括路径的文件名</span><br><span class="line">$ git commit -m <span class="string">"first commit"</span>       //把暂存取中的文件提交到本地的git库，并附加提交注释</span><br><span class="line">$ git remote add origin  git@github.com:MiaoJiHui/apph5.git //添加远程github库的关联</span><br><span class="line">$ git push -u origin master //把本地源码库push到github，-u代表第一次推送master分支的所有内容</span><br></pre></td></tr></table></figure></p>
<p>ok,本地的文件都被push到github上了。</p>
<h5 id="3-日常简单开发"><a href="#3-日常简单开发" class="headerlink" title="3.日常简单开发"></a>3.日常简单开发</h5><p>以上都是针对一个人用一台电脑开发时的情况。现在来解决一个人用两台电脑同时开发的情形。</p>
<p>把远程库中最新的代码fetch/pull到本地<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch origin master		//获取最新分支</span><br><span class="line">$ git <span class="built_in">log</span> -p master..origin/master		//比较本地的master分支和origin/master分支的差别</span><br><span class="line">$ git merge origin/master		//合并</span><br></pre></td></tr></table></figure></p>
<p>or</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch origin master:tmp</span><br><span class="line">$ git diff tmp </span><br><span class="line">$ git merge tmp</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git pull origin master		//相当于git fetch 和 git merge, 强制更新</span><br></pre></td></tr></table></figure>
<p>如上三种做法其实都是等效的，但是推荐前面两种。</p>
<p>好啦，结合<code>git commit</code>, <code>git push</code>, <code>git fetch</code>, <code>git merge</code>,这几个命令就可以基本满足日常简单开发需求了。</p>
<h5 id="4-进阶-多人开发"><a href="#4-进阶-多人开发" class="headerlink" title="4.进阶(多人开发)"></a>4.进阶(多人开发)</h5><p>这里先引入一个很重要的文件, <code>.gitignore</code><br>它是用于过滤平时不需要进行版本管理的文件，比如php运行时的一些缓存文件、config文件等。<br>eg:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/Application/Runtime/*</span><br><span class="line">/Application/Home/Conf/*</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>下面摘自廖前辈的<a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/0013743858312764dca7ad6d0754f76aa562e3789478044000" target="_blank" rel="external">博客</a></p>
</blockquote>
<p>回退版本<br><code>git reset --hard HEAD^</code><br>回退前前个版本<br><code>git reset --hard HEAD^^</code><br>回退前n个版本<br><code>git reset --hard HEAD~100</code></p>
<p><code>git log</code> 可以查看提交历史，以便确定要回退到哪个版本<br><code>git reflog</code> 查看命令历史，以便确定要回到未来的哪个版本</p>
<p><code>git diff HEAD -- readme.txt</code> 命令可以查看工作区和版本库里面最新版本的区别<br><code>git checkout -- readme.txt</code> 意思就是，把readme.txt文件在工作区的修改全部撤销<br>用命令<code>git reset HEAD file</code> 可以把暂存区的修改撤销掉（unstage），重新放回工作区</p>
<p>确实要从版本库中删除该文件，那就用命令<code>git rm</code>删掉，并且<code>git commit</code><br><code>git checkout</code>其实是用版本库里的版本替换工作区的版本，无论工作区是修改还是删除，都可以“一键还原”。</p>
<p><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/001375840038939c291467cc7c747b1810aab2fb8863508000" target="_blank" rel="external">branch分支</a><br>查看分支：<code>git branch</code><br>创建分支：<code>git branch &lt;name&gt;</code><br>切换分支：<code>git checkout &lt;name&gt;</code><br>创建+切换分支：<code>git checkout -b &lt;name&gt;</code>   //等于 git branch <name> + git checkout <name><br>合并某分支到当前分支：<code>git merge &lt;name&gt;</code><br>删除分支：<code>git branch -d &lt;name&gt;</code></name></name></p>
<h2 id="To-be-continued…"><a href="#To-be-continued…" class="headerlink" title="To be continued…"></a>To be continued…</h2></div></article></div></section><footer><div class="paginator"><a href="/2016/09/18/mactools/" class="prev">PREV</a><a href="/2016/08/27/slick-zoom-hammer/" class="next">NEXT</a></div><div class="copyright"><p>© 2016 <a href="https://miaojihui.github.io">Joseph Miao</a>, unless otherwise noted.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>